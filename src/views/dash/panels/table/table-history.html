<link href="table-history.css" rel="stylesheet" />

<script src="/resources/dash/navigate.js"></script>
<script src="table-history.mjs" type="module"></script>

<div class="container">
  <div class="sidebar">
    <button class="menu-btn" onclick="navigateTo('booth.html')">
      부스 생성
    </button>
    <button class="menu-btn" onclick="navigateTo('tableManagement.html')">
      테이블 관리
    </button>
    <button class="menu-btn" onclick="navigateTo('boothManagement.html')">
      부스 관리
    </button>
    <button class="menu-btn" onclick="navigateTo('menuManagement.html')">
      메뉴 관리
    </button>
    <button class="menu-btn active" onclick="navigateTo('orderHistory.html')">
      주문 내역
    </button>
    <button class="menu-btn" onclick="navigateTo('orderRecord.html')">
      주문기록 확인
    </button>
    <button class="menu-btn" onclick="navigateTo('tableQR.html')">
      테이블 QR
    </button>
    <button class="menu-btn" onclick="navigateTo('popup.html')">
      팝업 전용창
    </button>
    <button class="menu-btn" onclick="navigateTo('payment.html')">결제</button>
  </div>

  <div class="main-content">
    <div class="title-bar">주문 내역</div>
    <h2>주문내역을 확인하고 싶은 테이블을 선택하세요</h2>
    <div class="order-list">
      <!-- 주문 테이블 내역 여기에 추가 -->
    </div>
    <button class="save-btn">저장하기</button>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const orderList = document.querySelector('.order-list');

    // 저장된 테이블 목록 로드하기
    // tableManagement에서 저장한 테이블 목록
    const savedTables = JSON.parse(localStorage.getItem('tables')) || [];
    savedTables.forEach(function (table, index) {
      const orderItem = document.createElement('div');
      orderItem.className = 'order-item';
      orderItem.innerHTML = `
          <span class="order-icon" style="background-color: ${table.color};"></span>
          <span class="order-name">${table.name}</span>
        `;
      orderItem.addEventListener('click', function () {
        window.location.href = `orderDetails.html?table=${index}`;
      });
      orderList.appendChild(orderItem);
    });
  });
</script>
